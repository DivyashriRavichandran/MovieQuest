{"ast":null,"code":"// api.js\nimport movieInfo from 'movie-info-homeserver';\nimport axios from 'axios'; // Make sure to install axios with `npm install axios`\n\nconst YOUTUBE_API_KEY = 'AIzaSyBIUHVy4IBmxwP0xnlUaZexHCwP3PZouC8';\nconst YOUTUBE_SEARCH_URL = 'https://www.googleapis.com/youtube/v3/search';\nexport const fetchMovie = async query => {\n  try {\n    const response = await movieInfo(query);\n    return response;\n  } catch (error) {\n    console.error('Error fetching movie:', error);\n    return null;\n  }\n};\n\n// Function to fetch the trailer from YouTube\nexport const fetchTrailer = async title => {\n  try {\n    var _response$data$items$, _response$data$items$2;\n    const query = `${title} trailer`;\n    const response = await axios.get(YOUTUBE_SEARCH_URL, {\n      params: {\n        part: 'snippet',\n        q: query,\n        key: YOUTUBE_API_KEY,\n        type: 'video',\n        maxResults: 1 // Get the first result\n      }\n    });\n    const videoId = (_response$data$items$ = response.data.items[0]) === null || _response$data$items$ === void 0 ? void 0 : (_response$data$items$2 = _response$data$items$.id) === null || _response$data$items$2 === void 0 ? void 0 : _response$data$items$2.videoId;\n    if (videoId) {\n      return videoId;\n    } else {\n      console.error('No video found');\n      return null;\n    }\n  } catch (error) {\n    console.error('Error fetching trailer from YouTube:', error);\n    return null;\n  }\n};","map":{"version":3,"names":["movieInfo","axios","YOUTUBE_API_KEY","YOUTUBE_SEARCH_URL","fetchMovie","query","response","error","console","fetchTrailer","title","_response$data$items$","_response$data$items$2","get","params","part","q","key","type","maxResults","videoId","data","items","id"],"sources":["/Users/divyashriravichandran/Desktop/Web Dev/Movie Info App/movie-info-app/src/utils/api.js"],"sourcesContent":["// api.js\nimport movieInfo from 'movie-info-homeserver';\nimport axios from 'axios'; // Make sure to install axios with `npm install axios`\n\nconst YOUTUBE_API_KEY = 'AIzaSyBIUHVy4IBmxwP0xnlUaZexHCwP3PZouC8'; \nconst YOUTUBE_SEARCH_URL = 'https://www.googleapis.com/youtube/v3/search';\n\nexport const fetchMovie = async (query) => {\n  try {\n    const response = await movieInfo(query);\n    return response;\n  } catch (error) {\n    console.error('Error fetching movie:', error);\n    return null;\n  }\n};\n\n// Function to fetch the trailer from YouTube\nexport const fetchTrailer = async (title) => {\n  try {\n    const query = `${title} trailer`;\n    const response = await axios.get(YOUTUBE_SEARCH_URL, {\n      params: {\n        part: 'snippet',\n        q: query,\n        key: YOUTUBE_API_KEY,\n        type: 'video',\n        maxResults: 1, // Get the first result\n      },\n    });\n\n    const videoId = response.data.items[0]?.id?.videoId;\n    if (videoId) {\n      return videoId;\n    } else {\n      console.error('No video found');\n      return null;\n    }\n  } catch (error) {\n    console.error('Error fetching trailer from YouTube:', error);\n    return null;\n  }\n};\n"],"mappings":"AAAA;AACA,OAAOA,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B,MAAMC,eAAe,GAAG,yCAAyC;AACjE,MAAMC,kBAAkB,GAAG,8CAA8C;AAEzE,OAAO,MAAMC,UAAU,GAAG,MAAOC,KAAK,IAAK;EACzC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,SAAS,CAACK,KAAK,CAAC;IACvC,OAAOC,QAAQ;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAME,YAAY,GAAG,MAAOC,KAAK,IAAK;EAC3C,IAAI;IAAA,IAAAC,qBAAA,EAAAC,sBAAA;IACF,MAAMP,KAAK,GAAG,GAAGK,KAAK,UAAU;IAChC,MAAMJ,QAAQ,GAAG,MAAML,KAAK,CAACY,GAAG,CAACV,kBAAkB,EAAE;MACnDW,MAAM,EAAE;QACNC,IAAI,EAAE,SAAS;QACfC,CAAC,EAAEX,KAAK;QACRY,GAAG,EAAEf,eAAe;QACpBgB,IAAI,EAAE,OAAO;QACbC,UAAU,EAAE,CAAC,CAAE;MACjB;IACF,CAAC,CAAC;IAEF,MAAMC,OAAO,IAAAT,qBAAA,GAAGL,QAAQ,CAACe,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,cAAAX,qBAAA,wBAAAC,sBAAA,GAAtBD,qBAAA,CAAwBY,EAAE,cAAAX,sBAAA,uBAA1BA,sBAAA,CAA4BQ,OAAO;IACnD,IAAIA,OAAO,EAAE;MACX,OAAOA,OAAO;IAChB,CAAC,MAAM;MACLZ,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAC;MAC/B,OAAO,IAAI;IACb;EACF,CAAC,CAAC,OAAOA,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;IAC5D,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}