{"ast":null,"code":"import React,{useEffect,useState}from'react';import{motion}from'framer-motion';import{fetchTrailer}from'../../utils/api';import'./MovieDetails.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MovieDetails=_ref=>{let{movie}=_ref;const[trailerUrl,setTrailerUrl]=useState('');useEffect(()=>{if(movie){const fetchMovieTrailer=async()=>{const trailer=await fetchTrailer(movie.title||movie.name);setTrailerUrl(trailer);};fetchMovieTrailer();}},[movie]);if(!movie)return null;const{title,poster_path,release_date,vote_average,overview}=movie;// Function to format date to \"Month Day, Year\"\nconst formatDate=dateString=>{const options={year:'numeric',month:'long',day:'numeric'};const date=new Date(dateString);return date.toLocaleDateString(undefined,options);};// Function to determine the star rating based on IMDb rating (out of 10)\nconst getStarRating=rating=>{const scaledRating=rating/10*5;// Convert to 5-star scale\nconst fullStars=Math.floor(scaledRating);const halfStar=scaledRating%1>=0.25;// Show half-star if remainder is at least 0.25\nreturn{fullStars,halfStar};};const{fullStars,halfStar}=getStarRating(vote_average);return/*#__PURE__*/_jsxs(motion.div,{className:\"movie-details\",initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:`http://image.tmdb.org/t/p/original${poster_path}`,alt:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-list\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Release Date:\"}),\" \",formatDate(release_date)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rating:\"}),\" \",vote_average,/*#__PURE__*/_jsxs(\"span\",{className:\"star-rating\",children:[Array(fullStars).fill(null).map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"star full-star\",children:\"\\u2605\"},index)),halfStar&&/*#__PURE__*/_jsx(\"span\",{className:\"star half-star\",children:\"\\u2605\"}),Array(5-fullStars-(halfStar?1:0)).fill(null).map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"star empty-star\",children:\"\\u2605\"},index))]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Summary:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"summary-text\",children:overview})]})]})]})]}),trailerUrl&&/*#__PURE__*/_jsxs(\"div\",{className:\"trailer-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Movie Clip:\"}),/*#__PURE__*/_jsx(\"iframe\",{width:\"100%\",height:\"auto\",src:`https://www.youtube.com/embed/${trailerUrl}`,title:\"Movie Trailer\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})]})]});};export default MovieDetails;","map":{"version":3,"names":["React","useEffect","useState","motion","fetchTrailer","jsx","_jsx","jsxs","_jsxs","MovieDetails","_ref","movie","trailerUrl","setTrailerUrl","fetchMovieTrailer","trailer","title","name","poster_path","release_date","vote_average","overview","formatDate","dateString","options","year","month","day","date","Date","toLocaleDateString","undefined","getStarRating","rating","scaledRating","fullStars","Math","floor","halfStar","div","className","initial","opacity","animate","transition","duration","children","src","alt","Array","fill","map","_","index","width","height","frameBorder","allow","allowFullScreen"],"sources":["/Users/divyashriravichandran/Desktop/Web Dev/MovieQuest/MovieQuest/src/components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { fetchTrailer } from '../../utils/api'; \nimport './MovieDetails.scss';\n\nconst MovieDetails = ({ movie }) => {\n  const [trailerUrl, setTrailerUrl] = useState('');\n\n  useEffect(() => {\n    if (movie) {\n      const fetchMovieTrailer = async () => {\n        const trailer = await fetchTrailer(movie.title || movie.name);\n        setTrailerUrl(trailer);\n      };\n      \n      fetchMovieTrailer();\n    }\n  }, [movie]);\n\n  if (!movie) return null;\n\n  const { title, poster_path, release_date, vote_average, overview } = movie;\n\n  // Function to format date to \"Month Day, Year\"\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\n    const date = new Date(dateString);\n    return date.toLocaleDateString(undefined, options);\n  };\n\n  // Function to determine the star rating based on IMDb rating (out of 10)\n  const getStarRating = (rating) => {\n    const scaledRating = (rating / 10) * 5; // Convert to 5-star scale\n    const fullStars = Math.floor(scaledRating);\n    const halfStar = scaledRating % 1 >= 0.25; // Show half-star if remainder is at least 0.25\n    return { fullStars, halfStar };\n  };\n\n  const { fullStars, halfStar } = getStarRating(vote_average);\n\n  return (\n    <motion.div\n      className=\"movie-details\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.5 }}\n    >\n      <div className=\"details-container\">\n        <img src={`http://image.tmdb.org/t/p/original${poster_path}`} alt={title} />\n        <div className=\"movie-info\">\n          <h1>{title}</h1>\n          <div className=\"info-list\">\n            <p><strong>Release Date:</strong> {formatDate(release_date)}</p>\n            <p><strong>Rating:</strong> {vote_average} \n              <span className=\"star-rating\">\n                {Array(fullStars).fill(null).map((_, index) => (\n                  <span key={index} className=\"star full-star\">★</span>\n                ))}\n                {halfStar && <span className=\"star half-star\">★</span>}\n                {Array(5 - fullStars - (halfStar ? 1 : 0)).fill(null).map((_, index) => (\n                  <span key={index} className=\"star empty-star\">★</span>\n                ))}\n              </span>\n            </p>\n            <p><strong>Summary:</strong> <span className=\"summary-text\">{overview}</span></p>\n          </div>\n        </div>\n      </div>\n      {trailerUrl && (\n        <div className=\"trailer-container\">\n          <h2>Movie Clip:</h2>\n          <iframe\n            width=\"100%\"\n            height=\"auto\"\n            src={`https://www.youtube.com/embed/${trailerUrl}`}\n            title=\"Movie Trailer\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n          ></iframe>\n        </div>\n      )}\n    </motion.div>\n  );\n};\n\nexport default MovieDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}